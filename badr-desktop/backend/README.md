# برنامج البدر للإنارة - نظام إدارة المحل

## نظرة عامة

برنامج شامل لإدارة محل الإنارة يتضمن جميع العمليات المتعلقة بالمخزون، الزبائن، المبيعات، الضمان، والمصروفات.

## المميزات الرئيسية

### 1. إدارة المخزون
- إضافة وتعديل وحذف المنتجات
- تتبع الكميات المتاحة
- تنبيهات عند نفاد المخزون
- دعم رموز QR للمنتجات
- إدارة أسعار الشراء والبيع

### 2. إدارة الزبائن
- تسجيل بيانات الزبائن (الاسم، الهاتف)
- ربط الزبائن بمشترياتهم
- تتبع تاريخ الشراء

### 3. إدارة المبيعات
- تسجيل المبيعات السريع
- مسح رموز QR باستخدام الكاميرا
- دعم العملات المتعددة (دينار عراقي، دولار أمريكي)
- طباعة الفواتير المفصلة

### 4. إدارة الضمان
- تتبع فترة ضمان كل منتج
- تنبيهات عند انتهاء الضمان
- ربط الضمان بالزبون والمنتج

### 5. إدارة المصروفات
- تسجيل جميع المصروفات
- تصنيف المصروفات
- تتبع التواريخ والمبالغ

### 6. التقارير المالية
- حساب صافي الربح
- إجمالي الإيرادات والمصروفات
- تقارير مفصلة بالفترات الزمنية

### 7. نظام المستخدمين والصلاحيات
- أدوار مختلفة: مدير، موظف مبيعات، موظف مخزن، موظف عادي
- تحكم في الصلاحيات حسب الدور
- نظام تسجيل دخول آمن

## متطلبات التشغيل

### متطلبات النظام
- Python 3.11 أو أحدث
- Node.js 20 أو أحدث
- متصفح ويب حديث (Chrome, Firefox, Safari, Edge)

### المكتبات المطلوبة
- Flask
- SQLAlchemy
- Flask-CORS
- React
- Vite
- TailwindCSS

## تعليمات التثبيت والتشغيل

### 1. تشغيل الخادم الخلفي (Backend)

```bash
cd badr_lighting
source venv/bin/activate  # في Linux/Mac
# أو
venv\Scripts\activate     # في Windows

python src/main.py
```

الخادم سيعمل على: http://localhost:5001

### 2. الوصول للبرنامج

افتح المتصفح وانتقل إلى: http://localhost:5001

## الاستخدام الأول

### إنشاء حساب المدير
1. عند فتح البرنامج لأول مرة، انقر على "إنشاء حساب المدير الأول"
2. سيتم إنشاء حساب بالبيانات التالية:
   - اسم المستخدم: admin
   - كلمة المرور: admin123

### تسجيل الدخول
1. أدخل اسم المستخدم وكلمة المرور
2. انقر على "تسجيل الدخول"

## استخدام البرنامج

### إدارة المنتجات
1. انتقل إلى تبويب "المنتجات"
2. انقر على "إضافة منتج جديد"
3. أدخل بيانات المنتج:
   - اسم المنتج
   - الوصف
   - سعر الشراء
   - سعر البيع
   - الكمية المتاحة
   - الحد الأدنى للمخزون
   - رمز QR (اختياري)

### إدارة الزبائن
1. انتقل إلى تبويب "الزبائن"
2. انقر على "إضافة زبون جديد"
3. أدخل بيانات الزبون:
   - الاسم
   - رقم الهاتف

### تسجيل المبيعات
1. انتقل إلى تبويب "المبيعات"
2. انقر على "إضافة بيع جديد"
3. اختر الزبون (اختياري)
4. أضف المنتجات:
   - يدوياً من القائمة
   - أو باستخدام مسح رمز QR
5. حدد العملة (دينار عراقي أو دولار أمريكي)
6. احفظ البيع
7. اطبع الفاتورة إذا لزم الأمر

### مسح رموز QR
1. في صفحة المبيعات، انقر على أيقونة QR
2. اسمح للمتصفح بالوصول للكاميرا
3. وجه الكاميرا نحو رمز QR
4. سيتم إضافة المنتج تلقائياً

### طباعة الفواتير
1. في قائمة المبيعات، انقر على أيقونة الطابعة
2. ستظهر معاينة الفاتورة
3. انقر على "طباعة" لطباعة الفاتورة

### إدارة المستخدمين (للمدير فقط)
1. انتقل إلى تبويب "المستخدمون"
2. انقر على "إضافة مستخدم جديد"
3. أدخل بيانات المستخدم:
   - اسم المستخدم
   - كلمة المرور
   - الدور (مدير، موظف مبيعات، موظف مخزن، موظف)
   - حالة النشاط

### عرض التقارير
1. انتقل إلى تبويب "التقارير"
2. اعرض:
   - إجمالي المبيعات
   - صافي الربح
   - المنتجات قليلة المخزون
   - الضمانات المنتهية الصلاحية

## الصلاحيات والأدوار

### المدير (Admin)
- الوصول لجميع الميزات
- إدارة المستخدمين
- عرض جميع التقارير
- إدارة المصروفات

### موظف المبيعات (Sales)
- إدارة الزبائن
- تسجيل المبيعات
- عرض التقارير الأساسية

### موظف المخزن (Warehouse)
- إدارة المنتجات
- تحديث المخزون

### الموظف العادي (Employee)
- عرض البيانات الأساسية فقط

## النسخ الاحتياطي

### قاعدة البيانات
- ملف قاعدة البيانات: `src/database/app.db`
- انسخ هذا الملف بانتظام للحفاظ على البيانات

### الملفات المرفوعة
- مجلد الملفات: `src/static/uploads/`

## استكشاف الأخطاء

### مشاكل شائعة

#### لا يمكن الوصول للبرنامج
- تأكد من تشغيل الخادم الخلفي
- تحقق من أن المنفذ 5001 غير مستخدم

#### مشاكل الكاميرا
- تأكد من السماح للمتصفح بالوصول للكاميرا
- استخدم HTTPS أو localhost للوصول للكاميرا

#### مشاكل الطباعة
- تأكد من تثبيت طابعة
- استخدم متصفح يدعم الطباعة

## الدعم الفني

للحصول على المساعدة:
1. راجع هذا الدليل أولاً
2. تحقق من رسائل الخطأ في المتصفح
3. تأكد من تحديث المتصفح

## الأمان

### نصائح الأمان
- غير كلمة مرور المدير الافتراضية
- استخدم كلمات مرور قوية
- قم بعمل نسخ احتياطية منتظمة
- لا تشارك بيانات تسجيل الدخول

### النسخ الاحتياطي المنتظم
- انسخ مجلد `badr_lighting` كاملاً
- احفظ النسخة في مكان آمن
- اعمل نسخة احتياطية أسبوعياً على الأقل

## معلومات إضافية

### العملات المدعومة
- الدينار العراقي (IQD)
- الدولار الأمريكي (USD)

### تنسيقات التاريخ
- يستخدم البرنامج التقويم الميلادي
- تنسيق التاريخ: يوم/شهر/سنة

### حدود النظام
- لا يوجد حد أقصى لعدد المنتجات
- لا يوجد حد أقصى لعدد الزبائن
- لا يوجد حد أقصى لعدد المبيعات

---

**تم تطوير هذا البرنامج خصيصاً لمحل البدر للإنارة**

**تاريخ الإصدار:** يوليو 2025
**الإصدار:** 1.0.0

